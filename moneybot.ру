import os
from threading import Thread
from flask import Flask
import telebot

# –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç Render –¥—É–º–∞—Ç—å, —á—Ç–æ —Ç–≤–æ–π –±–æ—Ç ‚Äî —ç—Ç–æ —Å–∞–π—Ç
app = Flask('')
@app.route('/')
def home():
    return "–Ø –∂–∏–≤!"

def run():
    app.run(host='0.0.0.0', port=10000)

def keep_alive():
    t = Thread(target=run)
    t.start()

# --- –¢–£–¢ –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø –¢–í–û–ô –ö–û–î ---
token=os.getenv("BOT_TOKEN")
bot = telebot.TeleBot(token)

# –¢–≤–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (handlers) –æ—Å—Ç–∞–≤–ª—è–π –∫–∞–∫ –±—ã–ª–∏ –Ω–∏–∂–µ...
import os
import telebot
import time

TOKEN = os.getenv("BOT_TOKEN")

bot = telebot.TeleBot(TOKEN)

@bot.message_handler(commands=["start"])
def start(message):
    bot.send_message(
        message.chat.id,
        "ü§ñ –ë–æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ USD/KZT –∑–∞–ø—É—â–µ–Ω ‚úÖ"
    )

while True:
    try:
        bot.polling(non_stop=True)
    except:
        time.sleep(5)
if name == "__main__":
    keep_alive()
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    bot.infinity_polling(timeout=10, long_polling_timeout=5)
